%% dont re-indent this file
\begin{lstlisting}[style=scalaioScala]
if N.typep(x) {
  if (!I).typep(x)
    Some(1)
  else if I.typep(x)
    Some(2)
  else if SEmpty.typep(x)
    Some(3)
  else None
} else {
  if SEmpty.typep(x)
    Some(1)
  else if SEmpty.typep(x)
    Some(2)
  else if STop.typep(x)
    Some(3)
  else None
}
\end{lstlisting}
